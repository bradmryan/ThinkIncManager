<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>#{login.currentUser.lastNameFirstName()} </title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    <h:body>
        <h:form>
            <b:container>
                <h1 style="text-align:center">#{login.currentUser.firstNameLastName()}</h1>
                <b:row style="margin-top: 5%">  
                  <b:column tiny-screen="6" medium-screen="6" large-screen="6">  
                   <ul style="list-style-type: none;">
                       <li>ID: #{login.currentUser.id}</li>
                       <li>Username: #{login.currentUser.email}</li>
                       <li>First Name: #{login.currentUser.firstName}</li>
                    <li>Last Name: #{login.currentUser.lastName}</li>
                    <li>Phone Number: #{login.currentUser.phoneNumber}</li>
                    <li><b:button look="button" value="Edit" class="center-block" style="margin-top:1% !important; float: left !important;"/></li>
                  </ul>
                  </b:column>
                  <b:column tiny-screen="6" medium-screen="6" large-screen="6">  
                   <ul style="list-style-type: none;">
                    <li style="font-weight: bold;border: 1px solid black">Projects I belong to:</li>
                    <ui:repeat var="p" value="#{login.currentUser.projects}">
                        <li style="border: 1px solid black"><h:commandLink action="#{projects.goToProject(p.id)}">#{p.projectName}</h:commandLink></li>
                    </ui:repeat>
                   </ul>
                  </b:column>
                </b:row>  
                <b:row>
                    <b:column tiny-screen="12" medium-screen="12" large-screen="12">
                      <ul style="list-style-type: none; width: 100% !important; margin-top: 5%">
                        <li style="font-weight: bold;border: 1px solid black">Tickets assigned to me:</li>
                        <ui:repeat var="t" value="#{login.currentUser.tickets}">
                            <li style="border: 1px solid black"><h:commandLink action="#{tickets.goToTicket(t.id)}">#{t.description} #{t.dueDate} #{t.priority}</h:commandLink></li>
                        </ui:repeat>
                      </ul>
                    </b:column>    
                </b:row>
                    <b:row style="margin-top:5% !important">
                        <b:column tiny-screen="2" medium-screen="1" large-screen="1" offset="4" style="padding-right: 0 !important">
                            <h:commandButton  value="Create Project" action="CreateProject" class="center-block" />
                        </b:column>
                        <b:column tiny-screen="2" medium-screen="1" large-screen="1" offset="4" style="padding-right: 0 !important; margin-left: 7% !important">
                            <h:commandButton  value="Back to Account" action="Account" class="center-block" />
                        </b:column>
                        <b:column tiny-screen="2" medium-screen="1" large-screen="1" offset="4" style="padding-right: 0 !important; margin-left: 7% !important">
                            <h:commandButton  value="Log Out" action="#{login.doLogout()}" class="center-block" />
                        </b:column>
                    </b:row>
            </b:container>
        </h:form>
    </h:body>
</html>
